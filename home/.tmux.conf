# # List of plugins
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set-option -g @plugin 'b0o/tmux-autoreload'
# # deps: https://github.com/eradman/entr
# set -g @plugin 'laktak/extrakto'
# set -g @extrakto_insert_key "enter"  # use enter to insert selection
#
# set -g @plugin 'tmux-plugins/tmux-copycat'
# # set -g @plugin 'addisonlynch/tmux-sidebar-plus'
#
# # set -g @treemux-tree-nvim-init-file '~/.tmux/plugins/treemux/configs/treemux_init.lua'
# # set -g @plugin 'kiyoon/treemux'
#
# # Other examples:
# # set -g @plugin 'github_username/plugin_name'
# # set -g @plugin 'github_username/plugin_name#branch'
# # set -g @plugin 'git@github.com:user/plugin'
# # set -g @plugin 'git@bitbucket.com:user/plugin'
#
#
# setw -g window-active-style fg='#ebedef'
# setw -g window-style fg='#a6a6a6'
#
#
# # prefixキーをC-aに変更
# set -g prefix C-s
# # C-bのキーバインドを解除
# unbind C-b
#
# # Copy mode
# setw -g mode-keys vi
#
# bind a setw synchronize-panes \; display "synchronize-panes #{?pane_synchronized,on,off}"
#
#
# # prefix+\でペインを垂直分割する
# bind v split-window -h
#
# # prefix+-でペインを水平分割する
# bind s split-window -v
#
# unbind o
# unbind i
# # ペインをリサイズする
# bind -r y resize-pane -L 18
# bind -r u resize-pane -D 12
# bind -r i resize-pane -U 13
# bind -r o resize-pane -R 18
#
# unbind L
# bind-key H swap-pane -U
# bind-key L swap-pane -D
#
# bind-key r rotate-window
# bijd-key R rotate-window -D
#
# bind-key N swap-window -t +1\; select-window -t +1
# bind-key P swap-window -t 0\; select-window -t -1
#
# # ペインを最大化する
# bind -n C-z resize-pane -Z
#
# # 256色モードを有効にする
# set-option -g default-terminal "screen-256color"
#
# set -ag terminal-overrides ",xterm-256color:Tc"
# # Undercurl
# set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
# set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0
# # ステータスラインの色を変更
# setw -g status-style fg=colour255,bg=colour234
#
#
# # status-leftを非表示にする
# set -g status-left ""
# # status-rightを非表示にする
# set -g status-right ""
# # window-statusを右寄せにする
# set -g status-justify right
#
# # windowのインデックスを1から始める
# set -g base-index 1
#
# # window-statusの見た目を変更
# # setw -g window-status-current-format '#[bg=colour2,fg=colour255] #I #W #T'
# setw -g window-status-format '#[fg=colour242] #I #{}#W '
# setw -g window-status-current-format '#[fg=#002b36,bg=#eee8d5]#[fg=#6EA78E,bg=#eee8d5] #I #[fg=#eee8d5,bg=#6EA78E] #W #[fg=#6EA78E,bg=#002b36,nobold]'
# # マウス操作を有効にする
# set-option -g mouse on
#
# # prefix+r で設定のリロード
# # bind r source-file ~/.tmux.conf \; display "Reloaded!"
#
# set -g mode-style "fg=#eee8d5,bg=#073642"
#
# set -g message-style "fg=#eee8d5,bg=#073642"
# set -g message-command-style "fg=#eee8d5,bg=#073642"
#
# # set -g pane-border-format " [ ###P #T ] "
# set -g pane-border-style "fg=#073642"
# set -g pane-active-border-style "fg=#eee8d5"
#
# set -g status "on"
# set -g status-interval 1
# set -g status-justify "left"
#
# set -g status-style "fg=#586e75,bg=#073642"
#
# set -g status-bg "#003b36"
#
# set -g status-left-length "100"
# set -g status-right-length "100"
#
# set -g status-left-style NONE
# set -g status-right-style NONE
# # set -g @PATH $(tmux display-message -p "#{pane_current_path}")
# set -g @PATH $(pwd)
# set -g status-right "#{@PATH}"
#
# set -g status-left "#[fg=#073642,bg=#eee8d5,bold] #S #[fg=#eee8d5,bg=#7BBEF7,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#7BBEF7,bold] #(whoami) #[fg=#7BBEF7,bg=#002b36]"
# set -g status-right "#[fg=#586e75,bg=#002b36,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#586e75] #{prefix_highlight} #{?window_zoomed_flag,#[fg=red]Zoomed#[default],Not Zoomed}#[fg=#657b83,bg=#586e75,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#657b83] #[fg=#BAC3C3,bg=#657b83,nobold,nounderscore,noitalics]#{?client_prefix,#[fg=#82EA94],}#[fg=#15161E,bg=#BAC3C3,bold]#{?client_prefix,#[bg=#82EA94],} #(echo #{pane_current_path} | sed 's#$HOME#~#g') "
#
# setw -g window-status-activity-style "underscore,fg=#839496,bg=#002b36"
# setw -g window-status-separator ""
# setw -g window-status-style "NONE,fg=#839496,bg=#002b36"
# # setw -g window-status-format '#[fg=#002b36,bg=#002b36]#[default] #I  #{b:pane_current_path} #[fg=#002b36,bg=#002b36,nobold,nounderscore,noitalics]'
# set-option -g automatic-rename on
# set-option -g automatic-rename-format '#(basename "#{pane_current_path}")'
# # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'



set-option -g default-terminal 'screen-254color'
set-option -g terminal-overrides ',xterm-256color:RGB'
set-option -g focus-events on # TODO: learn how this works

set -g prefix ^S
set -g base-index 1          # start indexing windows at 1 instead of 0
set -g detach-on-destroy off # don't exit from tmux when closing a session
set -g escape-time 0         # zero-out escape time delay
set -g history-limit 1000000 # increase history size (from 2,000)
set -g mouse on              # enable mouse support
set -g renumber-windows on   # renumber all windows when any window is closed
set -g set-clipboard on      # use system clipboard
set -g status-interval 3     # update the status bar every 3 seconds

set -g status-left "#[fg=#073642,bg=#eee8d5,bold] #S #[fg=#eee8d5,bg=#7BBEF7,nobold,nounderscore,noitalics]#[fg=#15161E,bg=#7BBEF7,bold] #(whoami) #[fg=#7BBEF7,bg=#002b36]"
set -g status-right "#[fg=#586e75,bg=#002b36,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#586e75] #{prefix_highlight} #{?window_zoomed_flag,#[fg=red]Zoomed#[default],Not Zoomed}#[fg=#657b83,bg=#586e75,nobold,nounderscore,noitalics]#[fg=#93a1a1,bg=#657b83] #[fg=#BAC3C3,bg=#657b83,nobold,nounderscore,noitalics]#{?client_prefix,#[fg=#82EA94],}#[fg=#15161E,bg=#BAC3C3,bold]#{?client_prefix,#[bg=#82EA94],} #(echo #{pane_current_path} | sed 's#$HOME#~#g') "
# set -g status-left "#[fg=blue,bold,bg=#1e1e2e]  #S  "
# set -g status-right "#[fg=#b4befe,bold,bg=#1e1e2e]%a %Y-%m-%d 󱑒 %l:%M %p"

# set -ga status-right "#($HOME/.config/tmux/scripts/cal.sh)"
set -g status-justify left
set -g status-left-length 200    # increase length (from 10)
set -g status-right-length 200    # increase length (from 10)
# set -g status-position top       # macOS / darwin style
set -g status-position bottom       # macOS / darwin style
set -g status-style 'bg=#1e1e2e' # transparen#

# set -g window-status-current-format '#[fg=magenta,bg=#1e1e2e]*#I #W#{?window_zoomed_flag,(),} '
setw -g window-status-current-format '#[fg=#002b36,bg=#eee8d5]#[fg=#6EA78E,bg=#eee8d5] #I #[fg=#eee8d5,bg=#6EA78E] #W #[fg=#6EA78E,bg=#002b36,nobold]'

set -g window-status-format '#[fg=gray,bg=#1e1e2e] #I #W'
set -g window-status-last-style 'fg=white,bg=black'
set -g default-terminal "${TERM}"
set -g message-command-style bg=default,fg=yellow
set -g message-style bg=default,fg=yellow
set -g mode-style bg=default,fg=yellow
setw -g mode-keys vi
set -g pane-active-border-style 'fg=magenta,bg=default'
set -g pane-border-style 'fg=brightblack,bg=default'

set -g @fzf-url-fzf-options '-p 60%,30% --prompt="   " --border-label=" Open URL "'
set -g @fzf-url-history-limit '2000'
set -g @t-bind ","
set -g @t-fzf-default-results 'sessions'
set -g @t-fzf-find-binding 'ctrl-l:change-prompt(  )+reload(fd -H -d 2 -t d -E .Trash . ~)'
set -g @t-fzf-prompt '  '
set -g @tmux-last-color on
set -g @tmux-last-pager 'less -r'
set -g @tmux-last-pager 'less'
set -g @tmux-last-prompt-pattern ' '
set -g @tmux-nerd-font-window-name-shell-icon ''
set -g @tmux-nerd-font-window-name-show-name false

bind r source-file ~/.tmux.conf \; display "Reloaded!"
# bind-key r rotate-window
bind-key R rotate-window -D
bind v split-window -h
bind s split-window -v
bind o select-pane -t :.+
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -n C-z resize-pane -Z
bind a setw synchronize-panes \; display "synchronize-panes #{?pane_synchronized,on,off}"


unbind o
unbind i
# ペインをリサイズする
bind -r y resize-pane -L 18
bind -r u resize-pane -D 12
bind -r i resize-pane -U 13
bind -r o resize-pane -R 18

set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'fcsonline/tmux-thumbs'
set -g @plugin 'joshmedeski/t-smart-tmux-session-manager'
set -g @plugin 'sainnhe/tmux-fzf'
set -g @plugin 'joshmedeski/tmux-nerd-font-window-name'
set -g @plugin 'mskelton/tmux-last' # <prefix>t
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'

run '~/.tmux/plugins/tpm/tpm'
